<h3 class="text-center fw-semibold text-dark mb-3">Customer Details</h3>
<div class="container">
  <div class="row">
    <div class="col-md-4">
      <div class="input-group">
        <span class="input-group-text bg-white">
          <i class="bi bi-search text-muted"></i>
        </span>

        <input
          type="text"
          class="form-control"
          placeholder="Search by Name, Loan/Customer-ID, Amount, Status"
          [(ngModel)]="searchTerm"
        />

        <button class="btn btn-primary" (click)="filterBySearch()">
          Search
        </button>
        <button class="btn btn-outline-secondary" (click)="resetSearch()">
          All
        </button>
      </div>
    </div>

    <div class="col-md-6 d-flex justify-content-end mb-3">
      <button class="btn btn-success me-2 shadow-sm" (click)="exportToExcel()">
        <i class="fas fa-file-excel me-1"></i> Export to Excel
      </button>
      <button class="btn btn-danger shadow-sm" (click)="exportToPDF()">
        <i class="fas fa-file-pdf me-1"></i> Export to PDF
      </button>
    </div>
  </div>
</div>
<table class="table mb-0 border-dark">
  <thead class="table-light">
    <tr>
      <th>Loan/Customer-ID</th>
      <th>Customer Name</th>
      <th>Outstanding Amount</th>
      <th>Status</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Address</th>
      <th>DOB</th>
      <th>View</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let customer of paginateCustomers">
      <td>{{ customer.id }}</td>
      <td>{{ customer.name }}</td>
      <td>{{ customer.outstandingAmount | currency : "INR" }}</td>
      <td>
        <span
          class="badge"
          [ngClass]="{
            'bg-success': customer.status === 'Active',
            'bg-secondary': customer.status === 'Inactive'
          }"
        >
          {{ customer.status }}
        </span>
      </td>
      <td>{{ customer.email }}</td>
      <td>{{ customer.phone }}</td>
      <td>{{ customer.address }}</td>
      <td>{{ customer.dob | date : "dd MMM yyyy" }}</td>
      <td>
        <button
          class="btn btn-sm btn-outline-primary"
          (click)="viewCustomerDetails(customer.id)"
        >
          View
        </button>
      </td>
    </tr>
  </tbody>
</table>
<div class="d-flex justify-content-end mt-3">
  <button
    class="btn btn-secondary me-2"
    (click)="changePage(currentPage - 1)"
    [disabled]="currentPage === 1"
  >
    Previous
  </button>
  <span class="me-3 align-self-center">
    Page {{ currentPage }} of {{ totalPage }}
  </span>

  <button
    class="btn btn-secondary"
    (click)="changePage(currentPage + 1)"
    [disabled]="currentPage === totalPage"
  >
    Next
  </button>
</div>
